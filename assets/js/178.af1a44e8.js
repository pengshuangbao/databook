(window.webpackJsonp=window.webpackJsonp||[]).push([[178],{641:function(s,a,t){"use strict";t.r(a);var e=t(14),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"运维"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#运维"}},[s._v("#")]),s._v(" 运维")]),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#性能工具图"}},[s._v("性能工具图")])]),t("li",[t("a",{attrs:{href:"#基本"}},[s._v("基本")]),t("ul",[t("li",[t("a",{attrs:{href:"#查看系统信息"}},[s._v("查看系统信息")])]),t("li",[t("a",{attrs:{href:"#查看系统版本信息"}},[s._v("查看系统版本信息")])]),t("li",[t("a",{attrs:{href:"#查看cpu配置"}},[s._v("查看CPU配置")])]),t("li",[t("a",{attrs:{href:"#top"}},[s._v("top")]),t("ul",[t("li",[t("a",{attrs:{href:"#查看进程下的线程信息"}},[s._v("查看进程下的线程信息")])])])]),t("li",[t("a",{attrs:{href:"#查看内存大小"}},[s._v("查看内存大小")]),t("ul",[t("li",[t("a",{attrs:{href:"#输出便于理解的内存信息"}},[s._v("输出便于理解的内存信息")])]),t("li",[t("a",{attrs:{href:"#定时输出"}},[s._v("定时输出")])])])]),t("li",[t("a",{attrs:{href:"#硬盘大小"}},[s._v("硬盘大小")])]),t("li",[t("a",{attrs:{href:"#ssh-copy-id远程登录"}},[s._v("ssh-copy-id远程登录")])]),t("li",[t("a",{attrs:{href:"#新建软连接"}},[s._v("新建软连接")])]),t("li",[t("a",{attrs:{href:"#代理隧道"}},[s._v("代理隧道")])]),t("li",[t("a",{attrs:{href:"#find"}},[s._v("find")]),t("ul",[t("li",[t("a",{attrs:{href:"#find-命令找到大于100m文件"}},[s._v("find 命令找到大于100M文件")])]),t("li",[t("a",{attrs:{href:"#find-指定的文件并打包"}},[s._v("find 指定的文件并打包")])])])]),t("li",[t("a",{attrs:{href:"#sed"}},[s._v("sed")])]),t("li",[t("a",{attrs:{href:"#rsysc"}},[s._v("Rsysc")]),t("ul",[t("li",[t("a",{attrs:{href:"#复制文件夹并且排除某一些文件"}},[s._v("复制文件夹并且排除某一些文件")])])])]),t("li",[t("a",{attrs:{href:"#dmesg"}},[s._v("dmesg")])]),t("li",[t("a",{attrs:{href:"#lsof"}},[s._v("lsof")])]),t("li",[t("a",{attrs:{href:"#crontab"}},[s._v("crontab")]),t("ul",[t("li",[t("a",{attrs:{href:"#crontab批量修改替换"}},[s._v("crontab批量修改替换")])]),t("li",[t("a",{attrs:{href:"#基于cron定时删除日志"}},[s._v("基于cron定时删除日志")])])])]),t("li",[t("a",{attrs:{href:"#scp"}},[s._v("SCP")]),t("ul",[t("li",[t("a",{attrs:{href:"#scp指定端口"}},[s._v("scp指定端口")])])])])])]),t("li",[t("a",{attrs:{href:"#mac"}},[s._v("Mac")]),t("ul",[t("li",[t("a",{attrs:{href:"#定时任务相关"}},[s._v("定时任务相关")])]),t("li",[t("a",{attrs:{href:"#批量杀死同名进程"}},[s._v("批量杀死同名进程")])]),t("li",[t("a",{attrs:{href:"#安装程序显示文件已经损坏"}},[s._v("安装程序显示文件已经损坏")])]),t("li",[t("a",{attrs:{href:"#item2-pem文件登陆"}},[s._v("Item2 Pem文件登陆")])]),t("li",[t("a",{attrs:{href:"#mac关闭sip"}},[s._v("Mac关闭SIP")])])])]),t("li",[t("a",{attrs:{href:"#磁盘"}},[s._v("磁盘")]),t("ul",[t("li",[t("a",{attrs:{href:"#du"}},[s._v("du")]),t("ul",[t("li",[t("a",{attrs:{href:"#查看某个目录-大小"}},[s._v("查看某个目录 大小")])]),t("li",[t("a",{attrs:{href:"#查看当前目录下各个文件占用情况"}},[s._v("查看当前目录下各个文件占用情况")])]),t("li",[t("a",{attrs:{href:"#按照mb来显示单位并排序"}},[s._v("按照MB来显示单位并排序")])]),t("li",[t("a",{attrs:{href:"#查看文件夹占用-查看根目录下所有文件的大小"}},[s._v("查看文件夹占用(查看根目录下所有文件的大小)")])]),t("li",[t("a",{attrs:{href:"#查看文件占用大小"}},[s._v("查看文件占用大小")])])])]),t("li",[t("a",{attrs:{href:"#io测试"}},[s._v("IO测试")]),t("ul",[t("li",[t("a",{attrs:{href:"#粗略测试磁盘速度"}},[s._v("粗略测试磁盘速度")])]),t("li",[t("a",{attrs:{href:"#生成大文件"}},[s._v("生成大文件")])]),t("li",[t("a",{attrs:{href:"#随机生成10个小文件"}},[s._v("随机生成10个小文件")])])])])])]),t("li",[t("a",{attrs:{href:"#网络"}},[s._v("网络")]),t("ul",[t("li",[t("a",{attrs:{href:"#查看监听端口"}},[s._v("查看监听端口")])]),t("li",[t("a",{attrs:{href:"#查看-某一个端口的占用情况"}},[s._v("查看 某一个端口的占用情况")])]),t("li",[t("a",{attrs:{href:"#关闭防火墙"}},[s._v("关闭防火墙")])])])]),t("li",[t("a",{attrs:{href:"#内存"}},[s._v("内存")]),t("ul",[t("li",[t("a",{attrs:{href:"#清除pagecache"}},[s._v("清除PageCache")]),t("ul",[t("li",[t("a",{attrs:{href:"#仅清除页面缓存pagecache方法"}},[s._v("仅清除页面缓存PageCache方法：")])]),t("li",[t("a",{attrs:{href:"#清除目录项和inode节点"}},[s._v("清除目录项和inode节点：")])]),t("li",[t("a",{attrs:{href:"#清除页面缓存、目录项和inode节点"}},[s._v("清除页面缓存、目录项和inode节点：")])])])])])]),t("li",[t("a",{attrs:{href:"#cpu"}},[s._v("CPU")]),t("ul",[t("li",[t("a",{attrs:{href:"#cpu概览"}},[s._v("CPU概览")])]),t("li",[t("a",{attrs:{href:"#查看当前系统的-numa-node"}},[s._v("查看当前系统的 NUMA Node")])]),t("li",[t("a",{attrs:{href:"#查看socket信息"}},[s._v("查看Socket信息")])]),t("li",[t("a",{attrs:{href:"#查看有几个socket"}},[s._v("查看有几个Socket")])]),t("li",[t("a",{attrs:{href:"#查看每个-socket-有几个-processor"}},[s._v("查看每个 Socket 有几个 Processor")])]),t("li",[t("a",{attrs:{href:"#在-proc-cpuinfo-中查看-core-信息"}},[s._v("在 /proc/cpuinfo 中查看 Core 信息")])]),t("li",[t("a",{attrs:{href:"#获取总的-processor-数"}},[s._v("获取总的 Processor 数")])]),t("li",[t("a",{attrs:{href:"#获取每个-socket-的-processor-数"}},[s._v("获取每个 Socket 的 Processor 数")])]),t("li",[t("a",{attrs:{href:"#性能cpu监控-淘宝监控"}},[s._v("性能CPU监控 淘宝监控")])])])]),t("li",[t("a",{attrs:{href:"#ssh"}},[s._v("SSH")]),t("ul",[t("li",[t("a",{attrs:{href:"#ssh匿名登陆"}},[s._v("ssh匿名登陆")])])])]),t("li",[t("a",{attrs:{href:"#程序"}},[s._v("程序")]),t("ul",[t("li",[t("a",{attrs:{href:"#循环干掉job"}},[s._v("循环干掉job")])]),t("li",[t("a",{attrs:{href:"#杀死一个程序"}},[s._v("杀死一个程序")])]),t("li",[t("a",{attrs:{href:"#tmux"}},[s._v("tmux")]),t("ul",[t("li",[t("a",{attrs:{href:"#新建窗口"}},[s._v("新建窗口")])]),t("li",[t("a",{attrs:{href:"#打开窗"}},[s._v("打开窗")])]),t("li",[t("a",{attrs:{href:"#支持滚动条"}},[s._v("支持滚动条")])])])]),t("li",[t("a",{attrs:{href:"#文件输入"}},[s._v("文件输入")])])])]),t("li",[t("a",{attrs:{href:"#docker"}},[s._v("docker")]),t("ul",[t("li",[t("a",{attrs:{href:"#docker查看日志"}},[s._v("docker查看日志")])]),t("li",[t("a",{attrs:{href:"#docker日志过大-清空日志"}},[s._v("docker日志过大，清空日志")])]),t("li",[t("a",{attrs:{href:"#批量杀死删除容器"}},[s._v("批量杀死删除容器")])]),t("li",[t("a",{attrs:{href:"#docker镜像加速"}},[s._v("Docker镜像加速")])]),t("li",[t("a",{attrs:{href:"#docker杀死所有容器"}},[s._v("Docker杀死所有容器")])]),t("li",[t("a",{attrs:{href:"#docker定时清理日志"}},[s._v("Docker定时清理日志")])])])]),t("li",[t("a",{attrs:{href:"#git"}},[s._v("Git")]),t("ul",[t("li",[t("a",{attrs:{href:"#恢复修改"}},[s._v("恢复修改")]),t("ul",[t("li",[t("a",{attrs:{href:"#未使用-git-add-缓存代码"}},[s._v("未使用 git add 缓存代码")])]),t("li",[t("a",{attrs:{href:"#已经使用了-git-add-缓存了代码"}},[s._v("已经使用了 git add 缓存了代码")])]),t("li",[t("a",{attrs:{href:"#已经用-git-commit-提交了代码"}},[s._v("已经用 git commit 提交了代码")])])])])])]),t("li",[t("a",{attrs:{href:"#fq"}},[s._v("FQ")]),t("ul",[t("li",[t("a",{attrs:{href:"#linux离线安装v2ray客户端"}},[s._v("Linux离线安装v2ray客户端")])]),t("li",[t("a",{attrs:{href:"#linux下离线安装proxychains4"}},[s._v("Linux下离线安装proxychains4")])])])])])]),t("p"),s._v(" "),t("h2",{attrs:{id:"性能工具图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#性能工具图"}},[s._v("#")]),s._v(" 性能工具图")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://static.lovedata.net/20-11-11-7ceebb617ce3ee156789b652255df844.png",alt:"image"}})]),s._v(" "),t("h2",{attrs:{id:"基本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本"}},[s._v("#")]),s._v(" 基本")]),s._v(" "),t("h3",{attrs:{id:"查看系统信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看系统信息"}},[s._v("#")]),s._v(" 查看系统信息")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方法1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/version\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 方法2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -a\n")])])]),t("h3",{attrs:{id:"查看系统版本信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看系统版本信息"}},[s._v("#")]),s._v(" 查看系统版本信息")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lsb_release -a\n")])])]),t("h3",{attrs:{id:"查看cpu配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看cpu配置"}},[s._v("#")]),s._v(" 查看CPU配置")]),s._v(" "),t("div",{staticClass:"language-shelll extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("lscpu\n")])])]),t("h3",{attrs:{id:"top"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#top"}},[s._v("#")]),s._v(" top")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://drive.google.com/file/d/1C9HxJDVXc3F6Wr4mlxBpmEFFizDW_MsI/view",target:"_blank",rel:"noopener noreferrer"}},[s._v("top图解PDF"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("img",{attrs:{src:"https://static.lovedata.net/top.gif",alt:"top"}})]),s._v(" "),t("h4",{attrs:{id:"查看进程下的线程信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看进程下的线程信息"}},[s._v("#")]),s._v(" 查看进程下的线程信息")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" -Hp pid\n")])])]),t("h3",{attrs:{id:"查看内存大小"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看内存大小"}},[s._v("#")]),s._v(" 查看内存大小")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://static.lovedata.net/20-12-25-d5d85be0e48724a26aa85d9cc9c2e860.png",alt:"image"}})]),s._v(" "),t("h4",{attrs:{id:"输出便于理解的内存信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#输出便于理解的内存信息"}},[s._v("#")]),s._v(" 输出便于理解的内存信息")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" -h\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("              total        used        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:           125G         71G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".1G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".0G         49G         49G\nSwap:          127G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".0G        126G\n")])])]),t("h4",{attrs:{id:"定时输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定时输出"}},[s._v("#")]),s._v(" 定时输出")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v(" -h -s "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" total        used        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:           125G         71G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(".3G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".0G         48G         49G\nSwap:          127G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".0G        126G\n\n              total        used        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:           125G         71G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(".3G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".0G         48G         49G\nSwap:          127G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".0G        126G\n\n              total        used        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:           125G         71G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(".3G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".0G         48G         49G\nSwap:          127G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".0G        126G\n\n              total        used        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("      shared  buff/cache   available\nMem:           125G         71G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(".3G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(".0G         48G         49G\nSwap:          127G        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".0G        126G\n")])])]),t("h3",{attrs:{id:"硬盘大小"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#硬盘大小"}},[s._v("#")]),s._v(" 硬盘大小")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lsblk\n")])])]),t("h3",{attrs:{id:"ssh-copy-id远程登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh-copy-id远程登录"}},[s._v("#")]),s._v(" ssh-copy-id远程登录")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#生成公钥")]),s._v("\nssh-keygen  \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#用ssh-copy-id将公钥复制到远程机器中")]),s._v("\nssh-copy-id -i .ssh/id_rsa.pub  root@192.168.x.xxx\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#登录到远程机器不用输入密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@192.168.x.xxx\n")])])]),t("h3",{attrs:{id:"新建软连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#新建软连接"}},[s._v("#")]),s._v(" 新建软连接")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("link")]),s._v("\n")])])]),t("h3",{attrs:{id:"代理隧道"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代理隧道"}},[s._v("#")]),s._v(" 代理隧道")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果以前有这个用户，删除")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("userdel")]),s._v(" sshproxyuser\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf  /home/sshproxyuser\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" --create-home sshproxyuser\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 转至用户")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - sshproxyuser\nssh-keygen \n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /home/sshproxyuser/.ssh/authorized_keys\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改shell，改为不能登陆")]),s._v("\nchsh -s /sbin/nologin sshproxyuser\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除密码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" --delete sshproxyuser\n\n")])])]),t("p",[s._v("问题")]),s._v(" "),t("p",[s._v("使用 下面命令登陆会提示输入密码")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -D "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1078")]),s._v(" -f -C -q -N sshproxyuser@120.77.38.170 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65022")]),s._v("\n")])])]),t("p",[s._v("查看authorized_keys权限，如果除了自己的其他人可以修改，那么ssh会跳过认证，还是要求输入密码，所以需要修改权限")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("-rw-rw-r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" sshproxyuser sshproxyuser  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("398")]),s._v(" Mar  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":46 authorized_keys\n")])])]),t("p",[s._v("修改权限")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" g-w /home/sshproxyuser/.ssh/authorized_keys\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改完成后")]),s._v("\n-rw-r--r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" sshproxyuser sshproxyuser  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("398")]),s._v(" Mar  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":46 authorized_keys\n")])])]),t("h3",{attrs:{id:"find"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#find"}},[s._v("#")]),s._v(" find")]),s._v(" "),t("h4",{attrs:{id:"find-命令找到大于100m文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#find-命令找到大于100m文件"}},[s._v("#")]),s._v(" find 命令找到大于100M文件")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -size +100M\n")])])]),t("h4",{attrs:{id:"find-指定的文件并打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#find-指定的文件并打包"}},[s._v("#")]),s._v(" find 指定的文件并打包")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找到小于1M的文件并打包")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" ./ -type f -size -1024k "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v  logs "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" jcvf sdk-backend.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找到指定文件并打包")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" ./ -type f -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rabbit-*.jar'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" jcvf sdk-backend.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打包指定文件并排除一些文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -jcvf /tmp/sdk-backend.tar.gz /data/server/ --exclude"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*.([log]|[txt]|[out])'")]),s._v(" --include"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./rabbit-app-center-server-36030'")]),s._v("\n")])])]),t("h3",{attrs:{id:"sed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sed"}},[s._v("#")]),s._v(" sed")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://juejin.cn/post/6844903926756704269",target:"_blank",rel:"noopener noreferrer"}},[s._v("如何使用 sed 命令删除文件中的行"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"rsysc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rsysc"}},[s._v("#")]),s._v(" Rsysc")]),s._v(" "),t("h4",{attrs:{id:"复制文件夹并且排除某一些文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#复制文件夹并且排除某一些文件"}},[s._v("#")]),s._v(" 复制文件夹并且排除某一些文件")]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v("-a")]),s._v("参数表示archive模式，"),t("code",[s._v("-v")]),s._v("表示详细链模式输出，"),t("code",[s._v("-z")]),s._v("表示传输文件时使用压缩传输的模式")]),s._v(" "),t("p",[t("code",[s._v("--exclude")]),s._v("后面的路径不能为绝对路径，必须为相对路径才可以，否则出错")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -av --exclude"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("theme-default/README.md --exclude"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("theme-default/__tests__  --exclude"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("theme-default/package.json theme-default /Applications/projects/databook/\n")])])]),t("p",[t("a",{attrs:{href:"https://www.cnblogs.com/reggieqiao/p/13268584.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux下tar、cp命令排除某个目录或文件 - ReggieQiao - 博客园"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"dmesg"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dmesg"}},[s._v("#")]),s._v(" dmesg")]),s._v(" "),t("p",[s._v("查看系统消息")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("dmesg")]),s._v(" -T "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("less")]),s._v("\n")])])]),t("h3",{attrs:{id:"lsof"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#lsof"}},[s._v("#")]),s._v(" lsof")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.cnblogs.com/sparkbj/p/7161669.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("linux lsof命令详解 - 星火spark - 博客园"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.列出所有打开的文件:")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v("\n备注: 如果不加任何参数，就会打开所有被打开的文件，建议加上一下参数来具体定位\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 查看谁正在使用某个文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v("   /filepath/file\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3.递归查看某个目录的文件信息 备注: 使用了+D，对应目录下的所有子目录和文件都会被列出")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" +D /filepath/filepath2/\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4. 比使用+D选项，遍历查看某个目录的所有文件信息 的方法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" ‘/filepath/filepath2/’\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5. 列出某个用户打开的文件信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v("  -u username\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#6. 列出某个程序所打开的文件信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -c mysql\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#7. 列出多个程序多打开的文件信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -c mysql -c apache\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#8. 列出某个用户以及某个程序所打开的文件信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -u "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -c mysql\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 9. 列出除了某个用户外的被打开的文件信息")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v("   -u ^root\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 10. 通过某个进程号显示该进行打开的文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 11. 列出多个进程号对应的文件信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123,456")]),s._v(",789\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 12. 列出除了某个进程号，其他进程号所打开的文件信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -p ^1\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 13 . 列出所有的网络连接")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -i\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 14. 列出所有tcp 网络连接信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v("  -i tcp\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 15. 列出所有udp网络连接信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v("  -i udp\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 16. 列出谁在使用某个端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -i :3306\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 17. 列出谁在使用某个特定的udp端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -i udp:55\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 特定的tcp端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -i tcp:80\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 18. 列出某个用户的所有活跃的网络端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v("  -a -u "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -i\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 19. 列出所有网络文件系统")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -N\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 20.域名socket文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -u\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 21.某个用户组所打开的文件信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -g "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5555")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 22. 根据文件描述列出对应的文件信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -d description"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("like "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 23. 根据文件描述范围列出文件信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("-3\n")])])]),t("h3",{attrs:{id:"crontab"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#crontab"}},[s._v("#")]),s._v(" crontab")]),s._v(" "),t("h4",{attrs:{id:"crontab批量修改替换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#crontab批量修改替换"}},[s._v("#")]),s._v(" crontab批量修改替换")]),s._v(" "),t("p",[s._v("比如之前有这些 ，每周五执行clearLog.sh")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" * * * /bin/find /var/log/kudu/ -mtime +60 -type f -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*invalid-user.log*"')]),s._v(" -exec /bin/rm -f "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n00 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" * * "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" /root/clearLog.sh\n")])])]),t("p",[s._v("现在想修改一下，改为每天执行")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("crontab -l "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/5 sh/* sh/'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v("\n")])])]),t("h4",{attrs:{id:"基于cron定时删除日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基于cron定时删除日志"}},[s._v("#")]),s._v(" 基于cron定时删除日志")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" * * * /bin/find /root/zbmy/realtime/logs/error/ -mtime +60 -type f -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"error*.*.log"')]),s._v(" -exec /bin/rm -f "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" * * * /bin/find /var/log/kudu/ -mtime +60 -type f -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*invalid-user.log*"')]),s._v(" -exec /bin/rm -f "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),t("h3",{attrs:{id:"scp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scp"}},[s._v("#")]),s._v(" SCP")]),s._v(" "),t("h4",{attrs:{id:"scp指定端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scp指定端口"}},[s._v("#")]),s._v(" scp指定端口")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -P "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65532")]),s._v(" /Users/apple/Downloads/install-release.sh root@lovedata:/data/\n")])])]),t("h2",{attrs:{id:"mac"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mac"}},[s._v("#")]),s._v(" Mac")]),s._v(" "),t("h3",{attrs:{id:"定时任务相关"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定时任务相关"}},[s._v("#")]),s._v(" 定时任务相关")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#加载定时任务")]),s._v("\nlaunchctl load  com.lovedata.checktoken.plist \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#卸载")]),s._v("\nlaunchctl unload  com.lovedata.checktoken.plist \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#执行")]),s._v("\nlaunchctl start  com.lovedata.checktoken.plist\n")])])]),t("h3",{attrs:{id:"批量杀死同名进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#批量杀死同名进程"}},[s._v("#")]),s._v(" 批量杀死同名进程")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" chromedriver "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" !~/grep/ {print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("}'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tr")]),s._v(" -s "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Google Chrome Helper'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" !~/grep/ {print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("}'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tr")]),s._v(" -s "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])])]),t("h3",{attrs:{id:"安装程序显示文件已经损坏"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装程序显示文件已经损坏"}},[s._v("#")]),s._v(" 安装程序显示文件已经损坏")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://static.lovedata.net/21-07-02-b3e29bc9fc4882b794e8040b012fd048.png",alt:"image"}})]),s._v(" "),t("p",[s._v("1、打开任何来源。\n2、打开终端，执行下面的命令。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" xattr -r -d com.apple.quarantine /Applications/Sublime"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(" Text.app \n")])])]),t("h3",{attrs:{id:"item2-pem文件登陆"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#item2-pem文件登陆"}},[s._v("#")]),s._v(" Item2 Pem文件登陆")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" 0600 pem文件名.pem\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -i pem文件名.pem 用户名@登陆的IP\n")])])]),t("h3",{attrs:{id:"mac关闭sip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mac关闭sip"}},[s._v("#")]),s._v(" Mac关闭SIP")]),s._v(" "),t("p",[s._v("重启Mac，按住⌘ + R进入Recovery模式。 实用工具（Utilities）-> 终端（Terminal）。 输入命令csrutil disable运行。 重启进入系统后，终端里输入 csrutil status，结果中如果有 System Integrity Protection status:disabled. 则说明关闭成功。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("➜  ~ csrutil status\nSystem Integrity Protection status: disabled.\n")])])]),t("h2",{attrs:{id:"磁盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#磁盘"}},[s._v("#")]),s._v(" 磁盘")]),s._v(" "),t("h3",{attrs:{id:"du"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#du"}},[s._v("#")]),s._v(" du")]),s._v(" "),t("h4",{attrs:{id:"查看某个目录-大小"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看某个目录-大小"}},[s._v("#")]),s._v(" 查看某个目录 大小")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" -bsh /usr/\n")])])]),t("h4",{attrs:{id:"查看当前目录下各个文件占用情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看当前目录下各个文件占用情况"}},[s._v("#")]),s._v(" 查看当前目录下各个文件占用情况")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" -ah --max-depth"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])])]),t("h4",{attrs:{id:"按照mb来显示单位并排序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#按照mb来显示单位并排序"}},[s._v("#")]),s._v(" 按照MB来显示单位并排序")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" -ahm --max-depth"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  ./"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" -n\n")])])]),t("h4",{attrs:{id:"查看文件夹占用-查看根目录下所有文件的大小"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看文件夹占用-查看根目录下所有文件的大小"}},[s._v("#")]),s._v(" 查看文件夹占用(查看根目录下所有文件的大小)")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" -sm /*\n")])])]),t("h4",{attrs:{id:"查看文件占用大小"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看文件占用大小"}},[s._v("#")]),s._v(" 查看文件占用大小")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" -h --max-depth"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" /usr/hdp/2.6.5.0-292\n")])])]),t("h3",{attrs:{id:"io测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#io测试"}},[s._v("#")]),s._v(" IO测试")]),s._v(" "),t("h4",{attrs:{id:"粗略测试磁盘速度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#粗略测试磁盘速度"}},[s._v("#")]),s._v(" 粗略测试磁盘速度")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("dd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cm6.3.1-redhat7.tar.gz  "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bs")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("8k "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("300000")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("of")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/dev/null\n")])])]),t("h4",{attrs:{id:"生成大文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生成大文件"}},[s._v("#")]),s._v(" 生成大文件")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("dd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/dev/zero "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("of")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("test "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bs")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1M "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n")])])]),t("h4",{attrs:{id:"随机生成10个小文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#随机生成10个小文件"}},[s._v("#")]),s._v(" 随机生成10个小文件")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("seq")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" -i "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("dd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/dev/zero "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("of")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(".dat "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bs")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])])]),t("h2",{attrs:{id:"网络"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#网络"}},[s._v("#")]),s._v(" 网络")]),s._v(" "),t("h4",{attrs:{id:"查看监听端口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看监听端口"}},[s._v("#")]),s._v(" 查看监听端口")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# netstat")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -atunlp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" LISTEN\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# lsof")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -i:9001\n")])])]),t("h4",{attrs:{id:"查看-某一个端口的占用情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看-某一个端口的占用情况"}},[s._v("#")]),s._v(" 查看 某一个端口的占用情况")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 某一个端口的占用情况，去重要先排序才能去重计数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -atunlp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2181")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{ print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$5")]),s._v('" : "'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$7")]),s._v(" }'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uniq")]),s._v(" -c\n")])])]),t("h4",{attrs:{id:"关闭防火墙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关闭防火墙"}},[s._v("#")]),s._v(" 关闭防火墙")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看防火墙状态")]),s._v("\nfirewall-cmd --state\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止防火墙")]),s._v("\nsystemctl stop firewalld.service\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新增开放端口")]),s._v("\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("端口号/tcp --permanent\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除开放端口")]),s._v("\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --remove-port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("端口号/tcp --permanent\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看开放的端口")]),s._v("\nfirewall-cmd --zone"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --list-ports\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 刷新防火墙")]),s._v("\nfirewall-cmd --reload\n")])])]),t("h2",{attrs:{id:"内存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内存"}},[s._v("#")]),s._v(" 内存")]),s._v(" "),t("h3",{attrs:{id:"清除pagecache"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清除pagecache"}},[s._v("#")]),s._v(" 清除PageCache")]),s._v(" "),t("h4",{attrs:{id:"仅清除页面缓存pagecache方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#仅清除页面缓存pagecache方法"}},[s._v("#")]),s._v(" 仅清除页面缓存PageCache方法：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /proc/sys/vm/drop_caches\n")])])]),t("h4",{attrs:{id:"清除目录项和inode节点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清除目录项和inode节点"}},[s._v("#")]),s._v(" 清除目录项和inode节点：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /proc/sys/vm/drop_caches\n")])])]),t("h4",{attrs:{id:"清除页面缓存、目录项和inode节点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#清除页面缓存、目录项和inode节点"}},[s._v("#")]),s._v(" 清除页面缓存、目录项和inode节点：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /proc/sys/vm/drop_caches\n")])])]),t("h2",{attrs:{id:"cpu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cpu"}},[s._v("#")]),s._v(" CPU")]),s._v(" "),t("h3",{attrs:{id:"cpu概览"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cpu概览"}},[s._v("#")]),s._v(" CPU概览")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lscpu\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("Architecture:          x86_64\nCPU op-mode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v("-bit, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-bit\nByte Order:            Little Endian\nCPU"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#总的逻辑CPU个数")]),s._v("\nOn-line CPU"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" list:   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-39 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在线CPU编号列表")]),s._v("\nThread"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" per core:    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#每个Core的逻辑CPU个数")]),s._v("\nCore"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" per socket:    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#每个Socket上的Core个数")]),s._v("\nSocket"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#多少个Socket(插槽,物理CPU)")]),s._v("\nNUMA node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#多少个node")]),s._v("\nVendor ID:             GenuineIntel\nCPU family:            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\nModel:                 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("79")]),s._v("\nModel name:            Intel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("R"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Xeon"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("R"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" CPU E5-2630 v4 @ "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".20GHz\nStepping:              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nCPU MHz:               "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1319.484")]),s._v("\nBogoMIPS:              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4399.44")]),s._v("\nVirtualization:        VT-x\nL1d cache:             32K\nL1i cache:             32K\nL2 cache:              256K\nL3 cache:              25600K\nNUMA node0 CPU"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0,2")]),s._v(",4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38\nNUMA node1 CPU"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,3")]),s._v(",5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39\n")])])]),t("h3",{attrs:{id:"查看当前系统的-numa-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看当前系统的-numa-node"}},[s._v("#")]),s._v(" 查看当前系统的 NUMA Node")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://databook.lovedata.net/computer/cpu.html#cpu%E6%8B%93%E6%89%91%E6%89%93%E5%8D%B0%E8%84%9A%E6%9C%AC",target:"_blank",rel:"noopener noreferrer"}},[s._v("打印CPU拓扑"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("numactl --hardware\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("available: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" nodes "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnode "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" cpus: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("38")]),s._v("\nnode "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" size: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65442")]),s._v(" MB\nnode "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" free: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("294")]),s._v(" MB\nnode "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" cpus: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("37")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),s._v("\nnode "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" size: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65536")]),s._v(" MB\nnode "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" free: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4251")]),s._v(" MB\nnode distances:\nnode   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(":  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])])]),t("h3",{attrs:{id:"查看socket信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看socket信息"}},[s._v("#")]),s._v(" 查看Socket信息")]),s._v(" "),t("blockquote",[t("p",[s._v("一个Socket对应主板上面的一个插槽，也指一个CPU封装，在/proc/cpuinfo中，physical id就是Socket的ID")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/cpuinfo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"physical id"')]),s._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("physical "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nphysical "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nphysical "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nphysical "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#...后面省略了36行，都是0，1")]),s._v("\n")])])]),t("h3",{attrs:{id:"查看有几个socket"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看有几个socket"}},[s._v("#")]),s._v(" 查看有几个Socket")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'physical id'")]),s._v(" /proc/cpuinfo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" -F: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(' | "sort -un"}\'')]),s._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])])]),t("h3",{attrs:{id:"查看每个-socket-有几个-processor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看每个-socket-有几个-processor"}},[s._v("#")]),s._v(" 查看每个 Socket 有几个 Processor")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'physical id'")]),s._v(" /proc/cpuinfo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" -F: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("}'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uniq")]),s._v(" -c\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])])]),t("p",[s._v("查看Socket对应哪些Processor")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" -F: "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{ \n    if ("),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(' ~ /processor/) {\n        gsub(/ /,"",'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(");\n        p_id="),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(";\n    } else if ("),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(' ~ /physical id/){\n        gsub(/ /,"",'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(");\n        s_id="),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(';\n        arr[s_id]=arr[s_id] " " p_id\n    }\n} \n\nEND{\n    for (i in arr) \n        print arr[i];\n}\'')]),s._v(" /proc/cpuinfo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cut")]),s._v(" -c2-\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("38")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("37")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),s._v("\n")])])]),t("h3",{attrs:{id:"在-proc-cpuinfo-中查看-core-信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-proc-cpuinfo-中查看-core-信息"}},[s._v("#")]),s._v(" 在 /proc/cpuinfo 中查看 Core 信息")]),s._v(" "),t("blockquote",[t("p",[s._v("表明一个Socket有10个Core，他们的id分别是 0,1,10,11,12,2,3,4,8,9")]),s._v(" "),t("p",[s._v("前面的查到机器有2个socket，所以总共有20个Core，每个Core有两个Processor，总共四十个")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/cpuinfo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"core id"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" -u\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("core "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ncore "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\ncore "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\ncore "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\ncore "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\ncore "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\ncore "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\ncore "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\ncore "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\ncore "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\ncpu cores\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])])]),t("h3",{attrs:{id:"获取总的-processor-数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取总的-processor-数"}},[s._v("#")]),s._v(" 获取总的 Processor 数")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/cpuinfo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"processor"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\n")])])]),t("h3",{attrs:{id:"获取每个-socket-的-processor-数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取每个-socket-的-processor-数"}},[s._v("#")]),s._v(" 获取每个 Socket 的 Processor 数")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/cpuinfo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"siblings"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" -u\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("siblings\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n")])])]),t("h3",{attrs:{id:"性能cpu监控-淘宝监控"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#性能cpu监控-淘宝监控"}},[s._v("#")]),s._v(" 性能CPU监控 淘宝监控")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/oldratlee/useful-scripts.git\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r useful-scripts root@server3:/data3/test/\n")])])]),t("h2",{attrs:{id:"ssh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh"}},[s._v("#")]),s._v(" SSH")]),s._v(" "),t("h3",{attrs:{id:"ssh匿名登陆"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh匿名登陆"}},[s._v("#")]),s._v(" ssh匿名登陆")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -T root@lovedata -p65532 /bin/bash -i\n")])])]),t("h2",{attrs:{id:"程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#程序"}},[s._v("#")]),s._v(" 程序")]),s._v(" "),t("h3",{attrs:{id:"循环干掉job"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#循环干掉job"}},[s._v("#")]),s._v(" 循环干掉job")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" flume  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("}'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -9\n")])])]),t("h3",{attrs:{id:"杀死一个程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#杀死一个程序"}},[s._v("#")]),s._v(" 杀死一个程序")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -9 "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" redis"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])])]),t("h3",{attrs:{id:"tmux"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tmux"}},[s._v("#")]),s._v(" tmux")]),s._v(" "),t("h4",{attrs:{id:"新建窗口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#新建窗口"}},[s._v("#")]),s._v(" 新建窗口")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("tmux   new -s peng\n")])])]),t("h4",{attrs:{id:"打开窗"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#打开窗"}},[s._v("#")]),s._v(" 打开窗")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Ctrl+B  然后按一下D  就可以退出这个窗口，进入外部shell")]),s._v("\ntmux a -t peng\n")])])]),t("h4",{attrs:{id:"支持滚动条"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#支持滚动条"}},[s._v("#")]),s._v(" 支持滚动条")]),s._v(" "),t("p",[s._v("在 tmux里面，因为每个窗口(tmux window)的历史内容已经被tmux接管了，所以原来console/terminal提供的Shift+PgUp/PgDn所显示的内容并不是当前窗口的历史内容，所以要用C-b [ 进入copy-mode，然后才能用PgUp/PgDn/光标/Ctrl-S等键在copy-mode中移动。")]),s._v(" "),t("p",[s._v("如果要启用鼠标滚轮来卷动窗口内容的话，可以按C-b :然后输入")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v(" setw mode-mouse on\n")])])]),t("p",[s._v("这就可以了。如果要对所有窗口开启的话:\n"),t("code",[s._v("setw -g mode-mouse on")])]),s._v(" "),t("p",[s._v("(这种情况下，Vi/Emacs等全屏程序并不受影响，还可以自己接管滚轮事件)")]),s._v(" "),t("p",[s._v("也可以加到~/.tmux.conf里面\nset-window-option -g mode-mouse on\n(setw其实是set-window-option的别名)")]),s._v(" "),t("h3",{attrs:{id:"文件输入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件输入"}},[s._v("#")]),s._v(" 文件输入")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".txt"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF  \nHello,world!  \nEOF")]),s._v("  \n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF"),t("span",{pre:!0,attrs:{class:"token bash punctuation"}},[s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".txt")]),s._v("\nHello,world! \nEOF")]),s._v("\n")])])]),t("h2",{attrs:{id:"docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[s._v("#")]),s._v(" docker")]),s._v(" "),t("h3",{attrs:{id:"docker查看日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker查看日志"}},[s._v("#")]),s._v(" docker查看日志")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("docker logs  -f -t --tail "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("  pushgateway\n")])])]),t("h3",{attrs:{id:"docker日志过大-清空日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker日志过大-清空日志"}},[s._v("#")]),s._v(" docker日志过大，清空日志")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /var/lib/docker/containers/ab3424fef89b061abce15854402d125afb59558c6aced9088d7bc2c588abb101\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /dev/null "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" *-json.log\n")])])]),t("h3",{attrs:{id:"批量杀死删除容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#批量杀死删除容器"}},[s._v("#")]),s._v(" 批量杀死删除容器")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxx'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxx'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("}'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])])]),t("h3",{attrs:{id:"docker镜像加速"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker镜像加速"}},[s._v("#")]),s._v(" Docker镜像加速")]),s._v(" "),t("p",[s._v("创建或修改 /etc/docker/daemon.json 文件，修改为如下形式")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"registry-mirrors"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://registry.docker-cn.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://hub-mirror.c.163.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://docker.mirrors.ustc.edu.cn"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("h3",{attrs:{id:"docker杀死所有容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker杀死所有容器"}},[s._v("#")]),s._v(" Docker杀死所有容器")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v(" docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a -q "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" docker "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f\n")])])]),t("h3",{attrs:{id:"docker定时清理日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker定时清理日志"}},[s._v("#")]),s._v(" Docker定时清理日志")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/sh")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DockerLogPath")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/var/lib/docker/containers/'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DockerLogPath")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DockerLogPath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("dockerList")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" $DockerLogPath"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("fileName")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$dockerList")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("wholeFolderPath")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DockerLogPath")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$fileName")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#if test -f $fileName; then")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -f "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$wholeFolderPath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$wholeFolderPath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$wholeFolderPath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$wholeFolderPath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jsonFile")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$wholeFolderPath")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$fileName")]),s._v("-json.log\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -e  "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$jsonFile")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -f "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$jsonFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Clean '")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$jsonFile")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /dev/null "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$jsonFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$jsonFile")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' not exists!'")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DockerLogPath")]),s._v(' is a invalid path"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Done"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DockerLogPath")]),s._v(' is a invalid path"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])])]),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" -e\n00 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" * * * "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" /root/clean_docker_log.sh\n")])])]),t("h2",{attrs:{id:"git"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git"}},[s._v("#")]),s._v(" Git")]),s._v(" "),t("h3",{attrs:{id:"恢复修改"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#恢复修改"}},[s._v("#")]),s._v(" 恢复修改")]),s._v(" "),t("h4",{attrs:{id:"未使用-git-add-缓存代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#未使用-git-add-缓存代码"}},[s._v("#")]),s._v(" 未使用 git add 缓存代码")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#放弃修改某一个文件(注意加上"--")')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -- readme.md\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#放弃所有的文件修改")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" \n")])])]),t("h4",{attrs:{id:"已经使用了-git-add-缓存了代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#已经使用了-git-add-缓存了代码"}},[s._v("#")]),s._v(" 已经使用了 git add 缓存了代码")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#放弃某个文件")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset HEAD readme.md\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#放弃所有缓存")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset HEAD "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])])]),t("h4",{attrs:{id:"已经用-git-commit-提交了代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#已经用-git-commit-提交了代码"}},[s._v("#")]),s._v(" 已经用 git commit 提交了代码")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#来回退到上一次commit的状态")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard HEAD^\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#回退到任何一个版本")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard  commitid \n")])])]),t("h2",{attrs:{id:"fq"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fq"}},[s._v("#")]),s._v(" FQ")]),s._v(" "),t("h3",{attrs:{id:"linux离线安装v2ray客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux离线安装v2ray客户端"}},[s._v("#")]),s._v(" Linux离线安装v2ray客户端")]),s._v(" "),t("blockquote",[t("p",[s._v("参考")]),s._v(" "),t("ol",[t("li",[t("a",{attrs:{href:"https://www.jansora.com/notes/166",target:"_blank",rel:"noopener noreferrer"}},[s._v("v2ray离线安装"),t("OutboundLink")],1)])])]),s._v(" "),t("ol",[t("li",[t("p",[s._v("先在有外网的环境下在下面两个文件")]),s._v(" "),t("ol",[t("li",[s._v("https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh")]),s._v(" "),t("li",[s._v("https://github.com/v2fly/v2ray-core/releases/download/v4.40.1/v2ray-linux-64.zip")]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.junz.org/post/v2_in_linux/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux下使用v2ray - Jun's Blog"),t("OutboundLink")],1)])])]),s._v(" "),t("li",[t("p",[s._v("将文件传到机器上面")])]),s._v(" "),t("li",[t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" install-release.sh --local ./v2ray-linux-64.zip --version v4.40.1\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /usr/local/etc/v2ray/config.json\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 粘贴config.json的内容到这里")]),s._v("\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" v2ray\nsystemctl restart v2ray\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 产看是否能返回数据")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -x https://127.0.0.1:1087 https://www.google.com  -v\n")])])])]),s._v(" "),t("li",[t("p",[t("img",{attrs:{src:"https://static.lovedata.net/21-07-21-dc84bf457bb8c73fffbd315197fdb58e.png",alt:"image"}})])])]),s._v(" "),t("h3",{attrs:{id:"linux下离线安装proxychains4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux下离线安装proxychains4"}},[s._v("#")]),s._v(" Linux下离线安装proxychains4")]),s._v(" "),t("blockquote",[t("p",[s._v("参考")]),s._v(" "),t("ol",[t("li",[s._v("https://github.com/rofl0r/proxychains-ng")]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.cnblogs.com/BOHB-yunying/articles/12205099.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Centos 7安装Proxychains实现Linux 代理 - yunying - 博客园"),t("OutboundLink")],1)])])]),s._v(" "),t("ol",[t("li",[t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载，如果下载不了，浏览器下载")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/rofl0r/proxychains-ng\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" proxychains-ng\n./configure --prefix"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr --sysconfdir"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" install-config\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf proxychains-ng\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# make: cc: Command not found  使用")]),s._v("\nyum  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("  gcc\n")])])])]),s._v(" "),t("li",[t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加配置 ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/proxychains.conf\nsocks5          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")]),s._v("\n")])])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{638:function(a,s,t){"use strict";t.r(s);var e=t(14),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"大数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#大数据"}},[a._v("#")]),a._v(" 大数据")]),a._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#kafka"}},[a._v("Kafka")]),t("ul",[t("li",[t("a",{attrs:{href:"#测试生产者性能"}},[a._v("测试生产者性能")])]),t("li",[t("a",{attrs:{href:"#测试消费者性能"}},[a._v("测试消费者性能")])]),t("li",[t("a",{attrs:{href:"#查看消息总数"}},[a._v("查看消息总数")])]),t("li",[t("a",{attrs:{href:"#mirrormaker镜像"}},[a._v("MirrorMaker镜像")])]),t("li",[t("a",{attrs:{href:"#查看指定消息"}},[a._v("查看指定消息")]),t("ul",[t("li",[t("a",{attrs:{href:"#旧版本查看指定offset消息"}},[a._v("旧版本查看指定Offset消息")])]),t("li",[t("a",{attrs:{href:"#kafka-2-x版本查看制定offset消息"}},[a._v("Kafka 2.x版本查看制定Offset消息")])]),t("li",[t("a",{attrs:{href:"#查看topic详细信息"}},[a._v("查看topic详细信息")])]),t("li",[t("a",{attrs:{href:"#查看指定offset"}},[a._v("查看指定offset")])])])]),t("li",[t("a",{attrs:{href:"#监控消费进度"}},[a._v("监控消费进度")])])])]),t("li",[t("a",{attrs:{href:"#hadoop"}},[a._v("hadoop")]),t("ul",[t("li",[t("a",{attrs:{href:"#hdfs"}},[a._v("HDFS")]),t("ul",[t("li",[t("a",{attrs:{href:"#查看hdfs的文件占用"}},[a._v("查看hdfs的文件占用")])])])]),t("li",[t("a",{attrs:{href:"#hive"}},[a._v("Hive")])])])]),t("li",[t("a",{attrs:{href:"#kudu"}},[a._v("Kudu")]),t("ul",[t("li",[t("a",{attrs:{href:"#健康检查"}},[a._v("健康检查")])]),t("li",[t("a",{attrs:{href:"#获取kudu-flags"}},[a._v("获取kudu-flags")])]),t("li",[t("a",{attrs:{href:"#设置kudu-flags"}},[a._v("设置kudu-flags")])]),t("li",[t("a",{attrs:{href:"#获取master的状态"}},[a._v("获取master的状态")])]),t("li",[t("a",{attrs:{href:"#获取所有的kudu表"}},[a._v("获取所有的kudu表")])]),t("li",[t("a",{attrs:{href:"#重平衡"}},[a._v("重平衡")])])])]),t("li",[t("a",{attrs:{href:"#grafana"}},[a._v("Grafana")]),t("ul",[t("li",[t("a",{attrs:{href:"#docker启动grafana"}},[a._v("Docker启动Grafana")])])])]),t("li",[t("a",{attrs:{href:"#prometheus"}},[a._v("Prometheus")]),t("ul",[t("li",[t("a",{attrs:{href:"#docker启动prometheus"}},[a._v("Docker启动Prometheus")])]),t("li",[t("a",{attrs:{href:"#docker启动prometheus并支持热更新"}},[a._v("Docker启动Prometheus并支持热更新")])]),t("li",[t("a",{attrs:{href:"#热更新prometheus配置"}},[a._v("热更新Prometheus配置")])])])]),t("li",[t("a",{attrs:{href:"#pushgateway"}},[a._v("Pushgateway")]),t("ul",[t("li",[t("a",{attrs:{href:"#docker启动pushgateway"}},[a._v("Docker启动pushgateway")])])])])])]),t("p"),a._v(" "),t("h2",{attrs:{id:"kafka"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kafka"}},[a._v("#")]),a._v(" Kafka")]),a._v(" "),t("h3",{attrs:{id:"测试生产者性能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试生产者性能"}},[a._v("#")]),a._v(" 测试生产者性能")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("$ bin/kafka-producer-perf-test.sh --topic test-topic --num-records "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10000000")]),a._v(" --throughput -1 --record-size "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1024")]),a._v(" --producer-props bootstrap.servers"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("kafka-host:port "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("acks")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("-1 linger.ms"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2000")]),a._v(" compression.type"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("lz4\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2175479")]),a._v(" records sent, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("435095.8")]),a._v(" records/sec "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("424.90")]),a._v(" MB/sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("131.1")]),a._v(" ms avg latency, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("681.0")]),a._v(" ms max latency.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4190124")]),a._v(" records sent, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("838024.8")]),a._v(" records/sec "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("818.38")]),a._v(" MB/sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4.4")]),a._v(" ms avg latency, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("73.0")]),a._v(" ms max latency.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10000000")]),a._v(" records sent, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("737463.126844")]),a._v(" records/sec "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("720.18")]),a._v(" MB/sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("31.81")]),a._v(" ms avg latency, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("681.00")]),a._v(" ms max latency, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v(" ms 50th, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("126")]),a._v(" ms 95th, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("604")]),a._v(" ms 99th, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("672")]),a._v(" ms "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("99")]),a._v(".9th.\n")])])]),t("h3",{attrs:{id:"测试消费者性能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试消费者性能"}},[a._v("#")]),a._v(" 测试消费者性能")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("$ bin/kafka-consumer-perf-test.sh --broker-list kafka-host:port --messages "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10000000")]),a._v(" --topic test-topic\nstart.time, end.time, data.consumed.in.MB, MB.sec, data.consumed.in.nMsg, nMsg.sec, rebalance.time.ms, fetch.time.ms, fetch.MB.sec, fetch.nMsg.sec\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v("-06-26 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(":24:18:138, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v("-06-26 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v(":24:23:805, "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9765.6202")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1723.2434")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10000000")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1764602.0822")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5651")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1728.1225")]),a._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1769598.3012")]),a._v("\n")])])]),t("h3",{attrs:{id:"查看消息总数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看消息总数"}},[a._v("#")]),a._v(" 查看消息总数")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("$ bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list kafka-host:port --time -2 --topic test-topic\n\ntest-topic:0:0\ntest-topic:1:0\n\n$ bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list kafka-host:port --time -1 --topic test-topic\n\ntest-topic:0:5500000\ntest-topic:1:5500000\n")])])]),t("h3",{attrs:{id:"mirrormaker镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mirrormaker镜像"}},[a._v("#")]),a._v(" MirrorMaker镜像")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("$ bin/kafka-mirror-maker.sh --consumer.config ./config/consumer.properties --producer.config ./config/producer.properties --num.streams "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),a._v(" --whitelist "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('".*"')]),a._v("\n")])])]),t("h3",{attrs:{id:"查看指定消息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看指定消息"}},[a._v("#")]),a._v(" 查看指定消息")]),a._v(" "),t("h4",{attrs:{id:"旧版本查看指定offset消息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#旧版本查看指定offset消息"}},[a._v("#")]),a._v(" 旧版本查看指定Offset消息")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("./kafka-run-class.sh kafka.tools.SimpleConsumerShell "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --broker-list "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("''")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --topic "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("''")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --max-messages "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --offset "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("12351880242")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --partition "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\n")])])]),t("h4",{attrs:{id:"kafka-2-x版本查看制定offset消息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kafka-2-x版本查看制定offset消息"}},[a._v("#")]),a._v(" Kafka 2.x版本查看制定Offset消息")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("kafka-console-consumer --bootstrap-server "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("''")]),a._v(" --topic "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("''")]),a._v("  --offset "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9043367")]),a._v(" --partition "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("  --max-messages "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v("  \n")])])]),t("h4",{attrs:{id:"查看topic详细信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看topic详细信息"}},[a._v("#")]),a._v(" 查看topic详细信息")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v(" kafka-topics.sh --zookeeper localhost:2181 --describe --topic main_topic\n")])])]),t("h4",{attrs:{id:"查看指定offset"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看指定offset"}},[a._v("#")]),a._v(" 查看指定offset")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.1")]),a._v(".4.10:9092,10.1.4.13:9092,10.1.4.6:9092 --topic main_topic --time -1\n")])])]),t("blockquote",[t("p",[a._v("-1表示查询test各个分区当前最大的消息位移值(注意，这里的位移不只是consumer端的位移，而是指消息在每个分区的位置)")]),a._v(" "),t("p",[a._v("​    如果你要查询曾经生产过的最大消息数，那么只运行上面这条命令然后把各个分区的结果相加就可以了。但如果你需要查询当前集群中该topic的消息数，那么还需要运行下面这条命令：")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.162")]),a._v(".160.115:9092 --topic s1mmetest --time -2\n")])])]),t("p",[a._v("​    -2表示去获取当前各个分区的最小位移。之后把运行第一条命令的结果与刚刚获取的位移之和相减就是集群中该topic的当前消息总数。")])]),a._v(" "),t("h3",{attrs:{id:"监控消费进度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#监控消费进度"}},[a._v("#")]),a._v(" 监控消费进度")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看所有groupid")]),a._v("\nkafka-consumer-groups  --bootstrap-server "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("172.28")]),a._v(".19.115:9092,172.28.19.116:9092,172.28.19.117:9092 -list\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看消费进度")]),a._v("\nkafka-consumer-groups  --bootstrap-server "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("172.28")]),a._v(".19.115:9092,172.28.19.116:9092,172.28.19.117:9092  --group  custom_events_test_25 --describe\n\n")])])]),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("TOPIC                   PARTITION  CURRENT-OFFSET  LOG-END-OFFSET  LAG             CONSUMER-ID     HOST            CLIENT-ID\ncustom_event_topic_test 0          1442178         1442182         4               -               -               -\n")])])]),t("h2",{attrs:{id:"hadoop"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hadoop"}},[a._v("#")]),a._v(" hadoop")]),a._v(" "),t("h3",{attrs:{id:"hdfs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hdfs"}},[a._v("#")]),a._v(" HDFS")]),a._v(" "),t("h4",{attrs:{id:"查看hdfs的文件占用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看hdfs的文件占用"}},[a._v("#")]),a._v(" 查看hdfs的文件占用")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" -u hdfs hadoop fs  -du -h /\n")])])]),t("h3",{attrs:{id:"hive"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hive"}},[a._v("#")]),a._v(" Hive")]),a._v(" "),t("p",[a._v("导出csv")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("hive -e "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"set hive.cli.print.header=false; select * from device"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/["),t("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[a._v("\\t")]),a._v("]/"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\001"}},[a._v("\\001")]),a._v("/g'")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" device.csv\n")])])]),t("h2",{attrs:{id:"kudu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kudu"}},[a._v("#")]),a._v(" Kudu")]),a._v(" "),t("h3",{attrs:{id:"健康检查"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#健康检查"}},[a._v("#")]),a._v(" 健康检查")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" -u kudu kudu cluster ksck impala5.fibodata.com:7051,impala6.fibodata.com:7051\n")])])]),t("h3",{attrs:{id:"获取kudu-flags"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取kudu-flags"}},[a._v("#")]),a._v(" 获取kudu-flags")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" -u kudu kudu tserver get_flags  localhost\n")])])]),t("h3",{attrs:{id:"设置kudu-flags"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置kudu-flags"}},[a._v("#")]),a._v(" 设置kudu-flags")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" -u kudu kudu tserver set_flag localhost  maintenance_manager_num_threads "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6")]),a._v(" --force\n")])])]),t("h3",{attrs:{id:"获取master的状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取master的状态"}},[a._v("#")]),a._v(" 获取master的状态")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" -u kudu kudu master  status  impala5.fibodata.com:7051\n")])])]),t("h3",{attrs:{id:"获取所有的kudu表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取所有的kudu表"}},[a._v("#")]),a._v(" 获取所有的kudu表")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" -u kudu kudu table list impala5.fibodata.com:7051,impala6.fibodata.com:7051\n")])])]),t("h3",{attrs:{id:"重平衡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重平衡"}},[a._v("#")]),a._v(" 重平衡")]),a._v(" "),t("blockquote",[t("p",[a._v("参考 "),t("a",{attrs:{href:"https://kudu.apache.org/docs/command_line_tools_reference.html#cluster-rebalance",target:"_blank",rel:"noopener noreferrer"}},[a._v("Apache Kudu - Apache Kudu Command Line Tools Reference"),t("OutboundLink")],1)])]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" -u kudu  kudu cluster rebalance impala5.fibodata.com,impala6.fibodata.com\n")])])]),t("h2",{attrs:{id:"grafana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#grafana"}},[a._v("#")]),a._v(" Grafana")]),a._v(" "),t("h3",{attrs:{id:"docker启动grafana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker启动grafana"}},[a._v("#")]),a._v(" Docker启动Grafana")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("docker run -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3000")]),a._v(":3000 --name grafana grafana/grafana\n")])])]),t("h2",{attrs:{id:"prometheus"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prometheus"}},[a._v("#")]),a._v(" Prometheus")]),a._v(" "),t("h3",{attrs:{id:"docker启动prometheus"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker启动prometheus"}},[a._v("#")]),a._v(" Docker启动Prometheus")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("docker run -d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9090")]),a._v(":9090 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -v /opt/prometheus/config:/etc/prometheus  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    prom/prometheus "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n     --config.file"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/etc/prometheus/prometheus.yml\n")])])]),t("h3",{attrs:{id:"docker启动prometheus并支持热更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker启动prometheus并支持热更新"}},[a._v("#")]),a._v(" Docker启动Prometheus并支持热更新")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("docker run -d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9090")]),a._v(":9090 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    -v /opt/prometheus/config:/etc/prometheus "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    prom/prometheus "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --config.file"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/etc/prometheus/prometheus.yml  --web.enable-lifecycle\n")])])]),t("h3",{attrs:{id:"热更新prometheus配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#热更新prometheus配置"}},[a._v("#")]),a._v(" 热更新Prometheus配置")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -X POST http://192.168.2.12:9090/-/reload\n")])])]),t("h2",{attrs:{id:"pushgateway"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pushgateway"}},[a._v("#")]),a._v(" Pushgateway")]),a._v(" "),t("h3",{attrs:{id:"docker启动pushgateway"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker启动pushgateway"}},[a._v("#")]),a._v(" Docker启动pushgateway")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[a._v("docker run -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9091")]),a._v(":9091 prom/pushgateway\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{635:function(t,a,s){"use strict";s.r(a);var n=s(14),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"scala"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scala"}},[t._v("#")]),t._v(" Scala")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#scala"}},[t._v("Scala")])]),s("li",[s("a",{attrs:{href:"#一、异步编程"}},[t._v("一、异步编程")]),s("ul",[s("li",[s("a",{attrs:{href:"#java的future和scala的future有何区别"}},[t._v("java的Future和Scala的Future有何区别?")])]),s("li",[s("a",{attrs:{href:"#future-使用"}},[t._v("Future 使用")])])])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"一、异步编程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、异步编程"}},[t._v("#")]),t._v(" 一、异步编程")]),t._v(" "),s("h3",{attrs:{id:"java的future和scala的future有何区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java的future和scala的future有何区别"}},[t._v("#")]),t._v(" java的Future和Scala的Future有何区别?")]),t._v(" "),s("p",[t._v("Jav a 也提供了 Future ，它跟 S ca l a 的 Futur e 非常不同 。 两种Future 都是用来表示某个异步计算的结果，但 Ja va 的 Future 要求通过阻塞的 ge t 方法来访问这个结果 。 虽然可以在调用 ge t 之前线调用 i sDone 来判断某个 Java 的 Future 是否已经完成，从而避免阻塞，你却必须等到 Java 的Future 完成之后才能继续用这个结果做进一步的计算")]),t._v(" "),s("p",[t._v("Scal a 的 Futur e 则不同 ， 不论计算是否完成 ， 你都可以指定对它的变换逻辑 。")]),t._v(" "),s("p",[t._v("每一个变换都产生新的 Future 来表示原始的 Future 经过给定的函数变换后产生的异步结果")]),t._v(" "),s("h3",{attrs:{id:"future-使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#future-使用"}},[t._v("#")]),t._v(" Future 使用")]),t._v(" "),s("div",{staticClass:"language-scala extra-class"},[s("pre",{pre:!0,attrs:{class:"language-scala"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("scala"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("ExecutionContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Implicits"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("global\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("scala"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("ExecutionContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Implicits"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("global\nscala"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" fut"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Future "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Thread"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lOOOO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nfut"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" scala"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Future"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("完成")]),t._v(" "),s("div",{staticClass:"language-scala extra-class"},[s("pre",{pre:!0,attrs:{class:"language-scala"}},[s("code",[t._v("scala"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" fut"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isCompleted\nresO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\nscala"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" fut"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\nresl"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Option"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("scala"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Try"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" None\n")])])]),s("p",[t._v("未完成")]),t._v(" "),s("div",{staticClass:"language-scala extra-class"},[s("pre",{pre:!0,attrs:{class:"language-scala"}},[s("code",[t._v("scala"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" fut"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isCompleted\nresO"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\nscala"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" fut"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\nresl"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Option"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("scala"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Try"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" None\n")])])]),s("p",[t._v("这里有一个展示了异步活动失败场景的例子 ：")]),t._v(" "),s("div",{staticClass:"language-scala extra-class"},[s("pre",{pre:!0,attrs:{class:"language-scala"}},[s("code",[t._v("scala"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" fut"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Future "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Thread"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sleep"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lOOOO"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(" I "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nfut"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" scala"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concurrent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Future"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nscala"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" fut"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\nres4"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Option "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("seala"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Try "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" None\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" 秒钟过后：\nscala"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" fut "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\nresS"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Option"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("scala"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Try"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\nSome"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Failure"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ArithmeticException"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" I by zero"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"https://static.lovedata.net/20-07-30-521674357264a6f13627ae3af9069150.png",alt:"image"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);